# 数据结构课程设计报告

![build status](https://travis-ci.org/heart4lor/DSAD_design.svg?branch=master)

## 题目：**算术表达式的求解**

问题描述：给定一个算术表达式，通过程序求出最后的结果。

## 一、问题分析和任务定义

### 1.1 问题分析

**这个问题有以下基本要求：**

1. 从键盘输入要求解的算术表达式；
2. 采用栈结构进行算术表达式的求解过程；
3. 能够判断算术表达式正确与否；
4. 对于错误表达式给出提示；
5. 对于正确的表达式给出最后的结果；

### 1.2 任务定义

这个任务要求实现一个计算器，能对输入的表达式求值。应考虑到表达式是否包含小数，是否包含括号，是否包含多层括号等等问题。最终呈现的应该是一个命令行的计算器，用户输入表达式后可以返回一个结果。

## 二、数据结构的选择和概要设计

### 2.1 数据结构的选择

考虑到表达式中运算符的优先级，本任务选择顺序栈作为存储数据的结构，程序分为数字栈和运算符栈。

### 2.2 概要设计

顺序栈部分使用 c++ 的模板编程，因为数字栈和运算符栈中存储的类型是不同的，如果为其开两个结构体，写两份 push/pop 函数，代码就显得十分冗长，实现起来也不够优雅。所以使用模板编程，为数字栈和运算符栈指定不同的类型。程序运行时进入一个死循环，然后进入另一个循环持续读取用户输入的字符，如果是数字就继续读入，处理成整数或小数；如果是运算符的话就把之前的数字存入数字栈，并和运算符栈的栈顶运算符比较优先级，如果栈顶元素优先的话就取出该运算符和数字栈里的两个数字做运算，并把结果存入数字栈，否则直接将运算符入栈。如果处理到“=”字符，说明表达式结束，就将栈内没有运算的元素取出运算，直到运算符栈空，数字栈中仅有一个元素为止，这个元素就是用户输入的表达式的答案。

本程序可能涉及如下几个运算符：`+， -， *， /， %， (, ), =`，其中优先级最高的是 `(` 括号运算符，因为遇见括号意味着括号里的先算。其次是 `*, /, %` 运算符，在之后是 `+, -` 运算符，优先级最低的是 `=` 运算符。

## 三、详细设计和编码



## 四、上级调试过程



## 五、测试结果及其分析



## 六、用户使用说明



## 七、参考文献



## 八、附录